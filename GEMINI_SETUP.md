# Gemini API Integration Setup

This project now uses Google's Gemini API for all LLM functionality. Follow these steps to set up the Gemini API integration:

## 1. Get a Gemini API Key

1. Go to [Google AI Studio](https://ai.google.dev/)
2. Sign in with your Google account
3. Navigate to "API Keys" in the left sidebar
4. Click "Create API Key" and copy the generated key

## 2. Set the API Key for the Agent Server

Run the following command to set the API key for the agent server:

```bash
./set_gemini_api_key.sh YOUR_GEMINI_API_KEY
```

Replace `YOUR_GEMINI_API_KEY` with the actual API key you obtained from Google AI Studio.

## 3. Test the Integration

You can test the integration by making a request to the chatbot endpoint:

```bash
curl -X POST "https://analyst-backend-549120538825.us-central1.run.app/v1/bots/screener/test-session/message" \
  -H "Content-Type: application/json" \
  -H "x-debug-role: investor" \
  -d '{"text": "Show me healthcare startups"}'
```

If the integration is working correctly, you should receive a response generated by Gemini instead of a mock response.

## 4. Local Development

For local development, you can set the `GEMINI_API_KEY` environment variable:

```bash
export GEMINI_API_KEY=YOUR_GEMINI_API_KEY
```

Then run the Python scripts in the `Startup-Chatbot` or `Startup-Analyst` directories.

## Troubleshooting

- If you see "Mock response" in the API responses, it means the Gemini API key is not set or is invalid
- Check the Cloud Run logs for any errors related to the Gemini API
- Make sure your API key has the necessary permissions and quota for the Gemini API
